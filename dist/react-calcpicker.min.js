!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("numeral"),require("numeral/locales"),require("class-names"),require("react-portal")):"function"==typeof define&&define.amd?define(["react","numeral","numeral/locales","class-names","react-portal"],e):"object"==typeof exports?exports.ReactCalcPicker=e(require("react"),require("numeral"),require("numeral/locales"),require("class-names"),require("react-portal")):t.ReactCalcPicker=e(t.React,t.numeral,t.locales,t.classNames,t.Portal)}(this,function(t,e,o,n,r){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Action=e.Rect=e.CalcPicker=void 0;var r=o(1),i=n(r),a=o(8),s=n(a),c=o(10),l=n(c);e.CalcPicker=i.default,e.Rect=s.default,e.Action=l.default},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=o(2),c=n(s),l=o(3),u=n(l);o(4);var p=o(5),f=n(p),h=o(9),d=n(h),m=function(t){function e(o){r(this,e);var n=i(this,t.call(this,o));return u.default.locale(o.locale),n.state={openCalculator:!1,amount:o.initialAmount},window.onkeydown=function(t){if(n.state.openCalculator)switch(t.key){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.refs.calculator.inputNumber(t.key);break;case"+":case"-":n.refs.calculator.onClickOperator(t.key);break;case"/":n.refs.calculator.onClickOperator("÷");break;case"*":n.refs.calculator.onClickOperator("×");break;case"%":n.refs.calculator.onClickPercent();break;case"=":case"Enter":n.refs.calculator.onClickEnter();break;case"Clear":n.refs.calculator.allClear();break;case"Backspace":n.refs.calculator.delete()}},n}return a(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.locale!=t.locale&&u.default.locale(t.locale)},e.prototype.onClickAmount=function(t){return t.preventDefault(),this.setState({openCalculator:!0}),!1},e.prototype.onCloseCalculator=function(){1==this.state.openCalculator&&this.setState({openCalculator:!1})},e.prototype.render=function(){var t=this;return c.default.createElement("div",{className:"react-calcpicker"},c.default.createElement("button",{ref:"button",className:this.props.className,onClick:function(e){return t.onClickAmount(e)}},(0,u.default)(this.state.amount).format(this.props.currencyFormat)),c.default.createElement(d.default,{closeOnEsc:!0,closeOnOutsideClick:!0,isOpened:this.state.openCalculator,onClose:function(){return t.onCloseCalculator()}},c.default.createElement(f.default,{ref:"calculator",initialAmount:this.state.amount,onClickClose:function(){return t.setState({openCalculator:!1})},button:this.refs.button,positions:this.props.positions,buttons:this.props.buttons})))},e}(c.default.Component);e.default=m},function(e,o){e.exports=t},function(t,o){t.exports=e},function(t,e){t.exports=o},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=o(2),c=n(s),l=o(3),u=n(l),p=o(6),f=n(p),h=o(8),d=n(h),m=function(t){function e(o){r(this,e);var n=i(this,t.call(this,o));return n.state={display:o.initialAmount,amount:o.initialAmount,appendMode:!1,format:"0,0[.]0[000000000]",operator:{},unit:{},x:0,y:0},window.onresize=function(){return n.adjustPosition()},n}return a(e,t),e.prototype.adjustPosition=function(){if(this.refs.calculator){for(var t=d.default.createWithWindow(),e=d.default.createWithElement(this.props.button),o=d.default.createWithElement(this.refs.calculator,this.state.x,this.state.y),n=void 0,r=0;r<this.props.positions.length;r++){var i=this.props.positions[r],a=e.getRelativeRect(o,i);if(t.contains(a)){n=a;break}}n||(n=t.getRelativeRect(o,d.default.CENTER)),this.setState({x:n.transformX,y:n.transformY})}},e.prototype.inputNumber=function(t){this.state.appendMode?this.setState({display:this.state.display+t}):this.setState({appendMode:!0,display:t})},e.prototype.calc=function(t,e,o){switch(e){case"+":return"%"==this.state.unit.value&&(o=t*(o/100)),t+o;case"-":return"%"==this.state.unit.value&&(o=t*(o/100)),t-o;case"/":return"%"==this.state.unit.value&&(o/=100),t/o;case"*":return"%"==this.state.unit.value&&(o/=100),t*o;default:throw"Invalid operator "+e+" specified."}},e.prototype.execute=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=this.state.display,o=this.state.amount;this.state.operator.value&&(e=this.calc(parseFloat(o,10),this.state.operator.value,parseFloat(e,10))),o=e,this.setState({operator:{},unit:{},display:e,amount:o,appendMode:!1},t)},e.prototype.inputOperator=function(t,e){var o=this;this.state.appendMode?this.execute(function(){o.setState({appendMode:!1,operator:{value:t,display:e.display}})}):this.setState({operator:{value:t,display:e.display}})},e.prototype.inputDecimal=function(){-1===this.state.display.indexOf(".")&&this.inputNumber(".")},e.prototype.inputPercent=function(t){this.state.operator.value?this.setState({unit:{value:"%",display:t.display}}):this.setState({display:this.state.display/100})},e.prototype.clear=function(){this.state.appendMode&&this.setState({display:"0",appendMode:!1,unit:{}})},e.prototype.allClear=function(){this.setState({display:"0",amount:"0",operator:{},appendMode:!1,unit:{}})},e.prototype.delete=function(){if(this.state.appendMode){var t={},e=this.state.display.toString();"0"===e&&(t.unit={}),e=e.substr(0,e.length-1),t.display=e||0,this.setState(t)}},e.prototype.componentDidMount=function(){this.adjustPosition()},e.prototype.render=function(){var t=this;u.default.localeData();return c.default.createElement("div",{ref:"calculator",className:"react-calcpicker__calculator",style:{transform:"translate("+this.state.x+"px, "+this.state.y+"px)"}},c.default.createElement("div",{className:"react-calcpicker__calculator-header"},c.default.createElement(f.default,{className:"react-calcpicker__calculator-button-close",display:"×",onClick:this.props.onClickClose})),c.default.createElement("div",{className:"react-calcpicker__calculator-display"},c.default.createElement("div",{className:"react-calcpicker__calculator-display-operator"},this.state.operator.display),c.default.createElement("div",{className:"react-calcpicker__calculator-display-number"},(0,u.default)(this.state.display).format(this.state.format),this.state.unit.display)),this.props.buttons.map(function(e,o){return c.default.createElement("div",{key:o,className:"react-calcpicker__calculator-buttons"},e.map(function(e,n){return c.default.createElement(f.default,{key:o+"-"+n,className:e.className,style:e.style,size:e.size,display:e.display,onClick:function(o){return e.action(t,e)}})}))}))},e}(c.default.Component);e.default=m},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=o(2),c=n(s),l=o(7),u=n(l),p=function(t){function e(o){return r(this,e),i(this,t.call(this,o))}return a(e,t),e.prototype.onClick=function(t){return t.preventDefault(),this.props.onClick(this.props.display),!1},e.prototype.getSizeClass=function(){if(this.props.size){var t=[];return this.props.size.width&&t.push("react-calcpicker__calculator-button-"+this.props.size.width+"w"),this.props.size.height&&t.push("react-calcpicker__calculator-button-"+this.props.size.height+"h"),t}},e.prototype.render=function(){var t=this;return c.default.createElement("button",{className:(0,u.default)("react-calcpicker__calculator-button",this.props.style?"react-calcpicker__calculator-button-"+this.props.style:void 0,this.getSizeClass(),this.props.className),onClick:function(e){return t.onClick(e)}},this.props.display)},e}(c.default.Component);e.default=p},function(t,e){t.exports=n},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),r=function(){function t(e,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;o(this,t),this.top=e,this.left=n,this.width=r,this.height=i,this.transformX=a,this.transformY=s}return t.prototype.getCenterRect=function(e,o){var n={x:this.left+this.width/2,y:this.top+this.height/2};return new t(n.y-o/2,n.x-e/2,e,o)},t.prototype.clone=function(){return new t(this.top,this.left,this.width,this.height,this.transformX,this.transformY)},t.prototype.transform=function(t,e){return this.top=this.originTop+e,this.left=this.originLeft+t,this.transformX=t,this.transformY=e,this},t.prototype.contains=function(t){return this.left<=t.left&&this.right>=t.right&&this.top<=t.top&&this.bottom>=t.bottom},t.prototype.dump=function(){return{top:this.top,left:this.left,bottom:this.bottom,right:this.right,width:this.width,height:this.height,originTop:this.originTop,originLeft:this.originLeft,originBottom:this.originBottom,originRight:this.originRight,transformX:this.transformX,transformY:this.transformY}},t.prototype.getRelativeRect=function(e,o){switch(o){case t.RIGHT_BOTTOM:return e.clone().transform(this.left-e.originLeft,this.bottom-e.originTop);case t.LEFT_BOTTOM:return e.clone().transform(this.right-e.originRight,this.bottom-e.originTop);case t.LEFT_TOP:return e.clone().transform(this.right-e.originRight,this.top-e.originBottom);case t.RIGHT_TOP:return e.clone().transform(this.left-e.originLeft,this.top-e.originBottom);case t.CENTER:var n=this.getCenterRect(e.width,e.height);return e.clone().transform(n.left-e.originLeft,n.top-e.originTop);default:throw"Illegal positionKey `"+o+"` is specified"}},n(t,[{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"originTop",get:function(){return this.top-this.transformY}},{key:"originLeft",get:function(){return this.left-this.transformX}},{key:"originBottom",get:function(){return this.originTop+this.height}},{key:"originRight",get:function(){return this.originLeft+this.width}}]),t}();e.default=r,r.createWithElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return new r(0,0,0,0);var n=t.getBoundingClientRect(),i=document.body,a=document.documentElement,s=window.pageYOffset||a.scrollTop||i.scrollTop,c=window.pageXOffset||a.scrollLeft||i.scrollLeft,l=a.clientTop||i.clientTop||0,u=a.clientLeft||i.clientLeft||0;return new r(n.top+s-l,n.left+c-u,n.width,n.height,e,o)},r.createWithWindow=function(){return new r(window.pageYOffset||document.documentElement.scrollTop,window.pageXOffset||document.documentElement.scrollLeft,document.documentElement.clientWidth,document.documentElement.clientHeight)},Object.defineProperty(r,"RIGHT_TOP",{enumerable:!1,configurable:!1,writable:!1,value:"RIGHT_TOP"}),Object.defineProperty(r,"LEFT_TOP",{enumerable:!1,configurable:!1,writable:!1,value:"LEFT_TOP"}),Object.defineProperty(r,"RIGHT_BOTTOM",{enumerable:!1,configurable:!1,writable:!1,value:"RIGHT_BOTTOM"}),Object.defineProperty(r,"LEFT_BOTTOM",{enumerable:!1,configurable:!1,writable:!1,value:"LEFT_BOTTOM"}),Object.defineProperty(r,"CENTER",{enumerable:!1,configurable:!1,writable:!1,value:"CENTER"})},function(t,e){t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={one:function(t){t.inputNumber("1")},two:function(t){t.inputNumber("2")},three:function(t){t.inputNumber("3")},four:function(t){t.inputNumber("4")},five:function(t){t.inputNumber("5")},six:function(t){t.inputNumber("6")},seven:function(t){t.inputNumber("7")},eight:function(t){t.inputNumber("8")},nine:function(t){t.inputNumber("9")},zero:function(t){t.inputNumber("0")},doubleZero:function(t){t.inputNumber("00")},decimal:function(t){t.inputDecimal()},percent:function(t,e){t.inputPercent(e)},plus:function(t,e){t.inputOperator("+",e)},minus:function(t,e){t.inputOperator("-",e)},multiplication:function(t,e){t.inputOperator("*",e)},division:function(t,e){t.inputOperator("/",e)},enter:function(t){t.execute()},allClear:function(t){t.allClear()},clear:function(t){t.clear()},backspace:function(t){t.delete()}};e.default=o}])});