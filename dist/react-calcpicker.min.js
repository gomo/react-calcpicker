!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("numeral"),require("numeral/locales"),require("class-names"),require("react-portal")):"function"==typeof define&&define.amd?define(["react","numeral","numeral/locales","class-names","react-portal"],e):"object"==typeof exports?exports.ReactCalcPicker=e(require("react"),require("numeral"),require("numeral/locales"),require("class-names"),require("react-portal")):t.ReactCalcPicker=e(t.React,t.numeral,t.locales,t.classNames,t.Portal)}(this,function(t,e,n,o,r){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Action=e.Rect=e.CalcPicker=void 0;var r=n(1),i=o(r),a=n(8),s=o(a),c=n(10),u=o(c);e.CalcPicker=i.default,e.Rect=s.default,e.Action=u.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),c=o(s),u=n(3),l=o(u);n(4);var p=n(5),f=o(p),h=n(9),d=o(h),m=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return l.default.locale(n.locale),o.state={openCalculator:!1,amount:n.initialAmount},window.onkeydown=function(t){o.state.openCalculator&&o.props.buttons.forEach(function(e){return e.forEach(function(e){e.keyDown&&e.keyDown(t)&&(t.preventDefault(),e.action(o.refs.calculator,e,t))})})},o}return a(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.locale!=t.locale&&l.default.locale(t.locale)},e.prototype.onClickAmount=function(t){return t.preventDefault(),this.setState({openCalculator:!0}),!1},e.prototype.onCloseCalculator=function(){1==this.state.openCalculator&&this.setState({openCalculator:!1})},e.prototype.render=function(){var t=this;return c.default.createElement("div",{className:"react-calcpicker"},c.default.createElement("button",{ref:"button",className:this.props.className,onClick:function(e){return t.onClickAmount(e)}},(0,l.default)(this.state.amount).format(this.props.currencyFormat)),c.default.createElement(d.default,{closeOnEsc:!0,closeOnOutsideClick:!0,isOpened:this.state.openCalculator,onClose:function(){return t.onCloseCalculator()}},c.default.createElement(f.default,{ref:"calculator",initialAmount:this.state.amount,onClickClose:function(){return t.setState({openCalculator:!1})},button:this.refs.button,positions:this.props.positions,buttons:this.props.buttons})))},e}(c.default.Component);e.default=m},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),c=o(s),u=n(3),l=o(u),p=n(6),f=o(p),h=n(8),d=o(h),m=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.state={display:n.initialAmount,amount:n.initialAmount,appendMode:!1,format:"0,0[.]0[000000000]",operator:{},unit:{},x:0,y:0},window.onresize=function(){return o.adjustPosition()},o}return a(e,t),e.prototype.adjustPosition=function(){if(this.refs.calculator){for(var t=d.default.createWithWindow(),e=d.default.createWithElement(this.props.button),n=d.default.createWithElement(this.refs.calculator,this.state.x,this.state.y),o=void 0,r=0;r<this.props.positions.length;r++){var i=this.props.positions[r],a=e.getRelativeRect(n,i);if(t.contains(a)){o=a;break}}o||(o=t.getRelativeRect(n,d.default.CENTER)),this.setState({x:o.transformX,y:o.transformY})}},e.prototype.inputNumber=function(t){this.state.appendMode?this.setState({display:this.state.display+t}):this.setState({appendMode:!0,display:t})},e.prototype.calc=function(t,e,n){switch(e){case"+":return"%"==this.state.unit.value&&(n=t*(n/100)),t+n;case"-":return"%"==this.state.unit.value&&(n=t*(n/100)),t-n;case"/":return"%"==this.state.unit.value&&(n/=100),t/n;case"*":return"%"==this.state.unit.value&&(n/=100),t*n;default:throw"Invalid operator "+e+" specified."}},e.prototype.execute=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=this.state.display,n=this.state.amount;this.state.operator.value&&(e=this.calc(parseFloat(n,10),this.state.operator.value,parseFloat(e,10))),n=e,this.setState({operator:{},unit:{},display:e,amount:n,appendMode:!1},t)},e.prototype.inputOperator=function(t,e){var n=this;this.state.appendMode?this.execute(function(){n.setState({appendMode:!1,operator:{value:t,display:e.display}})}):this.setState({operator:{value:t,display:e.display}})},e.prototype.inputDecimal=function(){-1===this.state.display.indexOf(".")&&this.inputNumber(".")},e.prototype.inputPercent=function(t){this.state.operator.value?this.setState({unit:{value:"%",display:t.display}}):this.setState({display:this.state.display/100})},e.prototype.clear=function(){this.state.appendMode&&this.setState({display:"0",appendMode:!1,unit:{}})},e.prototype.allClear=function(){this.setState({display:"0",amount:"0",operator:{},appendMode:!1,unit:{}})},e.prototype.delete=function(){if(this.state.appendMode){var t={},e=this.state.display.toString();"0"===e&&(t.unit={}),e=e.substr(0,e.length-1),t.display=e||0,this.setState(t)}},e.prototype.componentDidMount=function(){this.adjustPosition()},e.prototype.render=function(){var t=this;l.default.localeData();return c.default.createElement("div",{ref:"calculator",className:"react-calcpicker__calculator",style:{transform:"translate("+this.state.x+"px, "+this.state.y+"px)"}},c.default.createElement("div",{className:"react-calcpicker__calculator-header"},c.default.createElement(f.default,{className:"react-calcpicker__calculator-button-close",display:"Ã—",onClick:this.props.onClickClose})),c.default.createElement("div",{className:"react-calcpicker__calculator-display"},c.default.createElement("div",{className:"react-calcpicker__calculator-display-operator"},this.state.operator.display),c.default.createElement("div",{className:"react-calcpicker__calculator-display-number"},(0,l.default)(this.state.display).format(this.state.format),this.state.unit.display)),this.props.buttons.map(function(e,n){return c.default.createElement("div",{key:n,className:"react-calcpicker__calculator-buttons"},e.map(function(e,o){return c.default.createElement(f.default,{ref:function(t){return e.component=t},key:n+"-"+o,className:e.className,style:e.style,size:e.size,display:e.display,onClick:function(n){return e.action(t,e,n)}})}))}))},e}(c.default.Component);e.default=m},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),c=o(s),u=n(7),l=o(u),p=function(t){function e(n){return r(this,e),i(this,t.call(this,n))}return a(e,t),e.prototype.onClick=function(t){return t.preventDefault(),this.props.onClick(t),!1},e.prototype.getSizeClass=function(){if(this.props.size){var t=[];return this.props.size.width&&t.push("react-calcpicker__calculator-button-"+this.props.size.width+"w"),this.props.size.height&&t.push("react-calcpicker__calculator-button-"+this.props.size.height+"h"),t}},e.prototype.render=function(){var t=this;return c.default.createElement("button",{ref:"element",className:(0,l.default)("react-calcpicker__calculator-button",this.props.style?"react-calcpicker__calculator-button-"+this.props.style:void 0,this.getSizeClass(),this.props.className),onClick:function(e){return t.onClick(e)}},this.props.display)},e}(c.default.Component);e.default=p},function(t,e){t.exports=o},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,o,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n(this,t),this.top=e,this.left=o,this.width=r,this.height=i,this.transformX=a,this.transformY=s}return t.prototype.getCenterRect=function(e,n){var o={x:this.left+this.width/2,y:this.top+this.height/2};return new t(o.y-n/2,o.x-e/2,e,n)},t.prototype.clone=function(){return new t(this.top,this.left,this.width,this.height,this.transformX,this.transformY)},t.prototype.transform=function(t,e){return this.top=this.originTop+e,this.left=this.originLeft+t,this.transformX=t,this.transformY=e,this},t.prototype.contains=function(t){return this.left<=t.left&&this.right>=t.right&&this.top<=t.top&&this.bottom>=t.bottom},t.prototype.dump=function(){return{top:this.top,left:this.left,bottom:this.bottom,right:this.right,width:this.width,height:this.height,originTop:this.originTop,originLeft:this.originLeft,originBottom:this.originBottom,originRight:this.originRight,transformX:this.transformX,transformY:this.transformY}},t.prototype.getRelativeRect=function(e,n){switch(n){case t.RIGHT_BOTTOM:return e.clone().transform(this.left-e.originLeft,this.bottom-e.originTop);case t.LEFT_BOTTOM:return e.clone().transform(this.right-e.originRight,this.bottom-e.originTop);case t.LEFT_TOP:return e.clone().transform(this.right-e.originRight,this.top-e.originBottom);case t.RIGHT_TOP:return e.clone().transform(this.left-e.originLeft,this.top-e.originBottom);case t.CENTER:var o=this.getCenterRect(e.width,e.height);return e.clone().transform(o.left-e.originLeft,o.top-e.originTop);default:throw"Illegal positionKey `"+n+"` is specified"}},o(t,[{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"originTop",get:function(){return this.top-this.transformY}},{key:"originLeft",get:function(){return this.left-this.transformX}},{key:"originBottom",get:function(){return this.originTop+this.height}},{key:"originRight",get:function(){return this.originLeft+this.width}}]),t}();e.default=r,r.createWithElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return new r(0,0,0,0);var o=t.getBoundingClientRect(),i=document.body,a=document.documentElement,s=window.pageYOffset||a.scrollTop||i.scrollTop,c=window.pageXOffset||a.scrollLeft||i.scrollLeft,u=a.clientTop||i.clientTop||0,l=a.clientLeft||i.clientLeft||0;return new r(o.top+s-u,o.left+c-l,o.width,o.height,e,n)},r.createWithWindow=function(){return new r(window.pageYOffset||document.documentElement.scrollTop,window.pageXOffset||document.documentElement.scrollLeft,document.documentElement.clientWidth,document.documentElement.clientHeight)},Object.defineProperty(r,"RIGHT_TOP",{enumerable:!1,configurable:!1,writable:!1,value:"RIGHT_TOP"}),Object.defineProperty(r,"LEFT_TOP",{enumerable:!1,configurable:!1,writable:!1,value:"LEFT_TOP"}),Object.defineProperty(r,"RIGHT_BOTTOM",{enumerable:!1,configurable:!1,writable:!1,value:"RIGHT_BOTTOM"}),Object.defineProperty(r,"LEFT_BOTTOM",{enumerable:!1,configurable:!1,writable:!1,value:"LEFT_BOTTOM"}),Object.defineProperty(r,"CENTER",{enumerable:!1,configurable:!1,writable:!1,value:"CENTER"})},function(t,e){t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={one:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("1")},two:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("2")},three:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("3")},four:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("4")},five:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("5")},six:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("6")},seven:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("7")},eight:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("8")},nine:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("9")},zero:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("0")},doubleZero:function(t,e,n){e.component.refs.element.focus(),t.inputNumber("00")},decimal:function(t,e,n){e.component.refs.element.focus(),t.inputDecimal()},percent:function(t,e,n){e.component.refs.element.focus(),t.inputPercent(e)},plus:function(t,e,n){e.component.refs.element.focus(),t.inputOperator("+",e)},minus:function(t,e,n){e.component.refs.element.focus(),t.inputOperator("-",e)},multiplication:function(t,e,n){e.component.refs.element.focus(),t.inputOperator("*",e)},division:function(t,e,n){e.component.refs.element.focus(),t.inputOperator("/",e)},enter:function(t,e,n){e.component.refs.element.focus(),t.execute()},allClear:function(t,e,n){e.component.refs.element.focus(),t.allClear()},clear:function(t,e,n){e.component.refs.element.focus(),t.clear()},backspace:function(t,e,n){e.component.refs.element.focus(),t.delete()}};e.default=n}])});