!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("numeral"),require("numeral/locales"),require("class-names"),require("react-portal")):"function"==typeof define&&define.amd?define(["react","numeral","numeral/locales","class-names","react-portal"],e):"object"==typeof exports?exports.ReactCalcPicker=e(require("react"),require("numeral"),require("numeral/locales"),require("class-names"),require("react-portal")):t.ReactCalcPicker=e(t.React,t.numeral,t.locales,t.classNames,t.Portal)}(this,function(t,e,o,n,i){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Action=e.Rect=e.CalcPicker=void 0;var i=o(1),r=n(i),a=o(8),s=n(a),c=o(10),u=n(c);e.CalcPicker=r.default,e.Rect=s.default,e.Action=u.default},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=o(2),c=n(s),u=o(3),l=n(u);o(4);var p=o(5),f=n(p),h=o(9),d=n(h),m=function(t){function e(o){i(this,e);var n=r(this,t.call(this,o));return l.default.locale(o.locale),n.state={openCalculator:!1,amount:o.initialAmount},window.onkeydown=function(t){n.state.openCalculator&&n.props.buttons.forEach(function(e){return e.forEach(function(e){e.keyDown&&e.keyDown(t)&&(t.preventDefault(),e.action(n.refs.calculator,e,t))})})},n}return a(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.locale!=t.locale&&l.default.locale(t.locale)},e.prototype.onClickAmount=function(t){return t.preventDefault(),this.setState({openCalculator:!0}),!1},e.prototype.onCloseCalculator=function(){1==this.state.openCalculator&&this.setState({openCalculator:!1})},e.prototype.changeValue=function(t){this.state.amount!=t&&this.setState({amount:t})},e.prototype.render=function(){var t=this;return c.default.createElement("div",{className:"react-calcpicker"},c.default.createElement("button",{ref:"button",className:this.props.className,onClick:function(e){return t.onClickAmount(e)}},(0,l.default)(this.state.amount).format(this.props.currencyFormat)),c.default.createElement(d.default,{closeOnEsc:!0,closeOnOutsideClick:!0,isOpened:this.state.openCalculator,onClose:function(){return t.onCloseCalculator()}},c.default.createElement(f.default,{ref:"calculator",initialAmount:this.state.amount,onClickClose:function(){return t.setState({openCalculator:!1})},button:this.refs.button,positions:this.props.positions,buttons:this.props.buttons,onFixed:function(e){return t.changeValue(e)},closeButton:this.props.closeButton})))},e}(c.default.Component);e.default=m},function(e,o){e.exports=t},function(t,o){t.exports=e},function(t,e){t.exports=o},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=o(2),c=n(s),u=o(3),l=n(u),p=o(6),f=n(p),h=o(8),d=n(h),m=function(t){function e(o){i(this,e);var n=r(this,t.call(this,o));return n.state={display:o.initialAmount,amount:o.initialAmount,appendMode:!1,format:"0,0[.]0[000000000000]",operator:{},unit:{},x:0,y:0},window.onresize=function(){return n.adjustPosition()},n}return a(e,t),e.prototype.adjustPosition=function(){if(this.refs.calculator){for(var t=d.default.createWithWindow(),e=d.default.createWithElement(this.props.button),o=d.default.createWithElement(this.refs.calculator,this.state.x,this.state.y),n=void 0,i=0;i<this.props.positions.length;i++){var r=this.props.positions[i],a=e.getRelativeRect(o,r);if(t.contains(a)){n=a;break}}n||(n=t.getRelativeRect(o,d.default.CENTER)),this.setState({x:n.transformX,y:n.transformY})}},e.prototype.inputToDisplay=function(t){this.state.appendMode?this.setState({display:this.state.display+t}):this.setState({appendMode:!0,display:t})},e.prototype.calc=function(t,e,o){switch(e){case"+":return"%"==this.state.unit.value&&(o=t*(o/100)),t+o;case"-":return"%"==this.state.unit.value&&(o=t*(o/100)),t-o;case"/":return"%"==this.state.unit.value&&(o/=100),t/o;case"*":return"%"==this.state.unit.value&&(o/=100),t*o;default:throw"Invalid operator "+e+" specified."}},e.prototype.execute=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},o=this.state.display,n=this.state.amount,i=!1;this.state.operator.value&&(o=this.calc(parseFloat(n,10),this.state.operator.value,parseFloat(o,10)),i=!0),n=o,this.setState({operator:{},unit:{},display:o,amount:n,appendMode:!1},function(){e(),i&&t.fix()})},e.prototype.inputOperator=function(t,e){var o=this;this.state.appendMode?this.execute(function(){o.setState({appendMode:!1,operator:{value:t,display:e.display}})}):this.setState({operator:{value:t,display:e.display}})},e.prototype.inputDecimal=function(){-1===this.state.display.indexOf(".")&&this.inputToDisplay(".")},e.prototype.inputPercent=function(t){this.state.operator.value?this.setState({unit:{value:"%",display:t.display}}):this.setState({display:this.state.display/100})},e.prototype.clear=function(){this.state.appendMode&&this.setState({display:"0",appendMode:!1,unit:{}})},e.prototype.allClear=function(){this.setState({display:"0",amount:"0",operator:{},appendMode:!1,unit:{}})},e.prototype.delete=function(){if(this.state.appendMode){var t={},e=this.state.display.toString();"0"===e&&(t.unit={}),e=e.substr(0,e.length-1),t.display=e||0,this.setState(t)}},e.prototype.componentDidMount=function(){this.adjustPosition()},e.prototype.fix=function(){this.props.onFixed&&this.props.onFixed(this.state.amount)},e.prototype.render=function(){var t=this;l.default.localeData();return c.default.createElement("div",{ref:"calculator",className:"react-calcpicker__calculator",style:{transform:"translate("+this.state.x+"px, "+this.state.y+"px)"}},c.default.createElement("div",{className:"react-calcpicker__calculator-header"},c.default.createElement(f.default,{className:"react-calcpicker__calculator-button-close",display:this.props.closeButton,onClick:this.props.onClickClose})),c.default.createElement("div",{className:"react-calcpicker__calculator-display"},c.default.createElement("div",{className:"react-calcpicker__calculator-display-operator"},this.state.operator.display),c.default.createElement("div",{className:"react-calcpicker__calculator-display-number"},(0,l.default)(this.state.display).format(this.state.format),this.state.unit.display)),this.props.buttons.map(function(e,o){return c.default.createElement("div",{key:o,className:"react-calcpicker__calculator-buttons"},e.map(function(e,n){return c.default.createElement(f.default,{ref:function(t){return e.component=t},key:o+"-"+n,className:e.className,style:e.style,size:e.size,display:e.display,onClick:function(o){return e.action(t,e,o)}})}))}))},e}(c.default.Component);e.default=m},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=o(2),c=n(s),u=o(7),l=n(u),p=function(t){function e(o){return i(this,e),r(this,t.call(this,o))}return a(e,t),e.prototype.onClick=function(t){return t.preventDefault(),this.props.onClick(t),!1},e.prototype.getSizeClass=function(){if(this.props.size){var t=[];return this.props.size.width&&t.push("react-calcpicker__calculator-button-"+this.props.size.width+"w"),this.props.size.height&&t.push("react-calcpicker__calculator-button-"+this.props.size.height+"h"),t}},e.prototype.render=function(){var t=this;return c.default.createElement("button",{ref:"element",className:(0,l.default)("react-calcpicker__calculator-button",this.props.style?"react-calcpicker__calculator-button-"+this.props.style:void 0,this.getSizeClass(),this.props.className),onClick:function(e){return t.onClick(e)}},this.props.display)},e}(c.default.Component);e.default=p},function(t,e){t.exports=n},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),i=function(){function t(e,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;o(this,t),this.top=e,this.left=n,this.width=i,this.height=r,this.transformX=a,this.transformY=s}return t.prototype.getCenterRect=function(e,o){var n={x:this.left+this.width/2,y:this.top+this.height/2};return new t(n.y-o/2,n.x-e/2,e,o)},t.prototype.clone=function(){return new t(this.top,this.left,this.width,this.height,this.transformX,this.transformY)},t.prototype.transform=function(t,e){return this.top=this.originTop+e,this.left=this.originLeft+t,this.transformX=t,this.transformY=e,this},t.prototype.contains=function(t){return this.left<=t.left&&this.right>=t.right&&this.top<=t.top&&this.bottom>=t.bottom},t.prototype.dump=function(){return{top:this.top,left:this.left,bottom:this.bottom,right:this.right,width:this.width,height:this.height,originTop:this.originTop,originLeft:this.originLeft,originBottom:this.originBottom,originRight:this.originRight,transformX:this.transformX,transformY:this.transformY}},t.prototype.getRelativeRect=function(e,o){switch(o){case t.RIGHT_BOTTOM:return e.clone().transform(this.left-e.originLeft,this.bottom-e.originTop);case t.LEFT_BOTTOM:return e.clone().transform(this.right-e.originRight,this.bottom-e.originTop);case t.LEFT_TOP:return e.clone().transform(this.right-e.originRight,this.top-e.originBottom);case t.RIGHT_TOP:return e.clone().transform(this.left-e.originLeft,this.top-e.originBottom);case t.CENTER:var n=this.getCenterRect(e.width,e.height);return e.clone().transform(n.left-e.originLeft,n.top-e.originTop);default:throw"Illegal positionKey `"+o+"` is specified"}},n(t,[{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"originTop",get:function(){return this.top-this.transformY}},{key:"originLeft",get:function(){return this.left-this.transformX}},{key:"originBottom",get:function(){return this.originTop+this.height}},{key:"originRight",get:function(){return this.originLeft+this.width}}]),t}();e.default=i,i.createWithElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return new i(0,0,0,0);var n=t.getBoundingClientRect(),r=document.body,a=document.documentElement,s=window.pageYOffset||a.scrollTop||r.scrollTop,c=window.pageXOffset||a.scrollLeft||r.scrollLeft,u=a.clientTop||r.clientTop||0,l=a.clientLeft||r.clientLeft||0;return new i(n.top+s-u,n.left+c-l,n.width,n.height,e,o)},i.createWithWindow=function(){return new i(window.pageYOffset||document.documentElement.scrollTop,window.pageXOffset||document.documentElement.scrollLeft,document.documentElement.clientWidth,document.documentElement.clientHeight)},Object.defineProperty(i,"RIGHT_TOP",{enumerable:!1,configurable:!1,writable:!1,value:"RIGHT_TOP"}),Object.defineProperty(i,"LEFT_TOP",{enumerable:!1,configurable:!1,writable:!1,value:"LEFT_TOP"}),Object.defineProperty(i,"RIGHT_BOTTOM",{enumerable:!1,configurable:!1,writable:!1,value:"RIGHT_BOTTOM"}),Object.defineProperty(i,"LEFT_BOTTOM",{enumerable:!1,configurable:!1,writable:!1,value:"LEFT_BOTTOM"}),Object.defineProperty(i,"CENTER",{enumerable:!1,configurable:!1,writable:!1,value:"CENTER"})},function(t,e){t.exports=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={one:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("1")},two:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("2")},three:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("3")},four:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("4")},five:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("5")},six:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("6")},seven:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("7")},eight:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("8")},nine:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("9")},zero:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("0")},doubleZero:function(t,e,o){e.component.refs.element.focus(),t.inputToDisplay("00")},decimal:function(t,e,o){e.component.refs.element.focus(),t.inputDecimal()},percent:function(t,e,o){e.component.refs.element.focus(),t.inputPercent(e)},plus:function(t,e,o){e.component.refs.element.focus(),t.inputOperator("+",e)},minus:function(t,e,o){e.component.refs.element.focus(),t.inputOperator("-",e)},multiplication:function(t,e,o){e.component.refs.element.focus(),t.inputOperator("*",e)},division:function(t,e,o){e.component.refs.element.focus(),t.inputOperator("/",e)},enter:function(t,e,o){e.component.refs.element.focus(),t.execute()},allClear:function(t,e,o){e.component.refs.element.focus(),t.allClear()},clear:function(t,e,o){e.component.refs.element.focus(),t.clear()},backspace:function(t,e,o){e.component.refs.element.focus(),t.delete()}};e.default=o}])});